\documentclass[a4paper, 11pt]{article}
\usepackage[top=3cm, bottom=3cm, left = 2cm, right = 2cm]{geometry} 
\geometry{a4paper} 
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{graphicx} 
\usepackage{amsmath,amssymb}  
\usepackage{bm}  
\usepackage[pdftex,bookmarks,colorlinks,breaklinks]{hyperref}  
%\hypersetup{linkcolor=black,citecolor=black,filecolor=black,urlcolor=black} % black links, for printed output
\usepackage{memhfixc} 
\usepackage{pdfsync}  
\usepackage{fancyhdr}
\usepackage[numbers,sort&compress]{natbib}
\hypersetup{
    colorlinks=true,
    citecolor=blue, % Change 'blue' to your preferred color (e.g., black, navyblue, red)
    linkcolor=black, % Color for internal links like Table of Contents
    urlcolor=blue    % Color for web links
}
\pagestyle{fancy}

\title{Estimating the Market Efficiency of Prediction Markets}
\author{author}
\date{}

\begin{document}
\maketitle
\tableofcontents
\pagebreak

\section{Why this question}

Prediction markets are platforms where participants can trade contracts 
based on the outcome of future events.\cite{investopediaPredictionMarkets}
Prediction markets are said to be more accurate than expert opinions, as 
it magnifies the "wisdom of the crowd" to a larger scale. \cite{investopediaPredictionMarkets}\\
I chose this question as I was curious about the effectiveness and accuracy 
of analysing the prices of the contracts in events that we would like to know the outcome
of.


\section{Background}

The prediction market platform we will retrieve data from in this report is Kalshi. 
Kalshi contracts are based on whether real-world events occur, with YES/NO options.\\
The sum of the price of the YES and NO contracts sum to \$ 1.00. If the outcome of the event
aligns with the contract the user purchases, the user will receive \$ 1.00.\cite{kalshiContracts}
\\The price of each contract is determined by employing a dynamic pricing model that directly correlates with the 
market's perceived probability of a specific event occurring.\cite{kalshiPricing}


\section{Model}

The outcome of a contract is either it happens or it doesn't, so we can model this as a Bernoulli
distribution.
\\
Let $y_1, \dots, y_n$ be a sample of outcomes related to Kalshi contracts. 
We can model these as realisations of a random variable $Y_i$ for $i = 1, \ldots, n$.
\[
Y_i \sim \{ \text{Bernoulli}(p_i) : p_i \in [0, 1] \}
\]
Where $Y_i = 1$ is the event where the market resolves to YES and $Y_i = 0$ is the event where 
the market resolves to NO, and $p_i$ is the probability the event occurs.\\
We will take the market price of a contract at each time period as $x_i$ cents.
Since $x_i \in [0,1]$, It can be said that if the market were perfectly efficient, $x_i = p_i$.
Therefore, we will model each $p_i$ as such:
\[
p_i = x_i^{\theta}
\]
Where if $\theta = 1$ then the market can be said to be perfectly efficient.
We will attempt to find the best $\theta$ for each of the observed market prices. 
\section{Data Observations}
The markets we will collect data from are respectively:\\
1.How many Grammy awards will Sabrina Carpenter win?\cite{kalshiSabrina}\\
2.How many Grammy awards will Lady Gaga win?\cite{kalshiLady}\\
3.How many Grammy awards will Kendrick Lamar win?\cite{kalshiKendrick}\\
4.How many Grammy awards will Bad Bunny win?\cite{kalshiBad}\\
These markets are all for the 2025 Grammy awards, and were chosen due to their similarity, 
so it can be assumed that the distribution their contract prices and event probability
will be similar.
\pagebreak
\section{Deriving the MLE of $\theta$}
As our model of $Y_i$ is a Bernoulli distribution, the model has probability function:
\[
P(Y_i = 1 | x_i;\theta) = p_i = x_i^{\theta}
\]
The pmf of the distribution is:
\[
f(y_i;\theta) = (x_i^{\theta})^{y_i}(1-x_i^{\theta})^{1-y_i}
\]
Hence the likelihood function of $\theta$ is:
\[
L(\theta) = \prod_{i=1}^{n} f(y_i;\theta) = \prod_{i=1}^{n} (x_i^{\theta})^{y_i}(1-x_i^{\theta})^{1-y_i}
\]
With log-likelihood function of:
\[
\text{log}(L(\theta)) = \sum_{i=1}^{n} \text{log}[(x_i^{\theta})^{y_i}(1-x_i^{\theta})^{1-y_i}]
\]
Using the scipy function scipy.optimize.minimize, we can find the minimum of $\text{-log}(L(\theta))$

\begin{table}[]
\begin{tabular}{lllll}
 1&  1& 1 &  1&  \\
 1& 1 &  1&  1&  \\
 1&  1& 1 &  1&  \\
 1& 1 & 1 & 1 & 
\end{tabular}
\end{table}
\pagebreak

\section{Evaluation}

We did some experiments \ldots

\pagebreak

\section{Conclusions and Future Work}

From our experiments we can conclude that \ldots

\bibliographystyle{unsrtnat}
\bibliography{references}  % need to put bibtex references in references.bib 
\end{document}